!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@polpware/fe-dependencies"),require("@polpware/fe-utilities"),require("@polpware/fe-data")):"function"==typeof define&&define.amd?define("@polpware/ngx-i18n-store",["exports","@angular/core","@polpware/fe-dependencies","@polpware/fe-utilities","@polpware/fe-data"],r):r(((e=e||self).polpware=e.polpware||{},e.polpware["ngx-i18n-store"]={}),e.ng.core,e.feDependencies,e.feUtilities,e.feData)}(this,(function(e,r,n,o,t){"use strict";var i=n.underscore;var u=function(){function e(e){var r=new t.SlidingExpirationCache(180,300,e);this._resourceLoader=new t.ResourceLoader(r)}return Object.defineProperty(e.prototype,"resourceLoader",{get:function(){return this._resourceLoader},enumerable:!0,configurable:!0}),e.prototype.loadPromise=function(e,r){var n=this._resourceLoader;return n.getPromise("lang.options",(function(e){return e})).then((function(e){return t.loadJsonUriP(e)})).then((function(r){return n=r,o=e||"en-us",(t=i.find(n,(function(e){return e.code.substring(0,2)===o.substring(0,2)})))&&(o=t.code),o;var n,o,t})).then((function(e){if(e===r)throw new Error("Loading the current language: "+e);return e})).then((function(r){return e=r,n.getPromise("lang.urlTmpl",(function(e){return e}))})).then((function(r){return o.replace(r,{code:e})})).then((function(e){return t.loadJsonUriP(e)})).then((function(e){return t.I18n.add(e.code,e.items),t.I18n.recycleOthers(e.code),e}))},e.prototype.loadOptionPromise=function(){return this._resourceLoader.getPromise("lang.options",(function(e){return e})).then((function(e){return t.loadJsonUriP(e)}))},e.ɵfac=function(n){return new(n||e)(r.ɵɵinject(r.NgZone))},e.ɵprov=r.ɵɵdefineInjectable({token:e,factory:e.ɵfac}),e}();e.ResourceLoaderService=u,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=polpware-ngx-i18n-store.umd.min.js.map